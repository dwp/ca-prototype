{% extends 'layout.html' %}

{% block pageTitle %}
    Select any weeks you did not provide care for 35 hours or more
{% endblock %}

{% block beforeContent %}

    {{ super() }}

    {{ 'april' | redirect | safe if not data['month-select'] | includes('March') }}

    {{ govukBackLink ({
        text: 'Back',
        href: 'javascript:history.back()'
    }) }}

{% endblock %}

{% block content %}

<div class="govuk-grid-row">

        <div class="govuk-grid-column-two-thirds">

            <form action="april" method="post">

                {% from "govuk/components/radios/macro.njk" import govukRadios %}
{% set test1 %}
                {{ govukRadios({
                classes: "govuk-radios--inline",
                idPrefix: 'breaks--medical-care',
                name: breakLoc + '[medical-care]',
                fieldset: {
                    legend: {
                    text: "Were you or the person you care for in the care of medical professionals during this time?",
                    classes: "govuk-fieldset__legend--s"
                    }
                },
                    hint: {
                        text: 'For example, if either of you were in hospital or a nursing home where they were providing medical treatment'
                    },
                    items: [
                        {
                            text: 'Yes',
                            value: 'Yes',
                            checked: true if break['medical-care'] == 'Yes'
                        },
                        {
                            text: 'No',
                            value: 'No',
                            checked: true if break['medical-care'] == 'No'
                        }
                    ]
                }) }}
{% endset -%}

                {{ govukCheckboxes ({
                    idPrefix: 'week-select',
                    name: 'week-select',
                    fieldset: {
                        legend: {
                            text: 'Select any weeks you did not provide care for 35 hours or more',
                            isPageHeading: true,
                            classes: 'govuk-fieldset__legend--l'
                        }
                    },
                    hint: {
                        text: 'Weeks are shown from Sunday to Saturday'
                    },
                    items: [
                        {
                            text: '7 March 2021 to 13 March 2021',
                            value: '7 March 2021 to 13 March 2021',
                            checked: true if data['week-select'] == '31 January 2021 to 6 February 2021',
                            conditional: {
                                html: test1
                            }
                        },
                        {
                            text: '14 March 2021 to 20 March 2021',
                            value: '14 March 2021 to 20 March 2021',
                            checked: true if data['week-select'] == '31 January 2021 to 6 February 2021',
                            conditional: {
                                html: test1
                            }
                        },
                        {
                            text: '21 March 2021 to 27 March 2021',
                            value: '21 March 2021 to 27 March 2021',
                            checked: true if data['week-select'] == '31 January 2021 to 6 February 2021',
                            conditional: {
                                html: test1
                            }
                        },
                        {
                            text: '28 March 2021 to 3 April 2021',
                            value: '28 March 2021 to 3 April 2021',
                            checked: true if data['week-select'] == '28 March 2021 to 3 April 2021',
                            conditional: {
                                html: test1
                            }
                        }
                    ]
                }) }}

                {{ govukButton ({
                    html: 'Continue'
                }) }}

            </form>

        </div>

</div>

{% endblock %}